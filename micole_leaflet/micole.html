<!DOCTYPE html>
<html>
<head>

	<title>Quick Start - Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>



</head>
<body>



<div id="mapid_zonas" style="width: 640px; height: 400px;"></div>
<div id="mapid_zonas_contador" style="width: 640px; height: 400px;"></div>
<script>

var url_geoserver = 'http://54.38.180.7:8080/geoserver/wms?';
	var mymap_zonas = L.map('mapid_zonas', {
    crs: L.CRS.EPSG3857
}).setView([39.46975, -0.37739], 13);

var mymap_zonas_contador = L.map('mapid_zonas_contador', {
	crs: L.CRS.EPSG3857
}).setView([39.46975, -0.37739], 13);


 // CAPAS

	//CAPA BASE
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		id: 'mapbox.streets'
	}).addTo(mymap_zonas);

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		id: 'mapbox.streets'
	}).addTo(mymap_zonas_contador);


	//CAPAS WMS
	var wmsLayer_bachiller = L.tileLayer.wms(url_geoserver, {
    layers: '		colegios:alumno_datos_geoserver',
		format: 'image/png',
		transparent: true,
	}).addTo(mymap_zonas);





	var zonas = {
    "Bachiller": wmsLayer_bachiller,
	};
	L.control.layers(zonas).addTo(mymap_zonas);

//-------------------------------------------------------------------------------






//------------------------------------------------------------------------------- VISTAS GEOSERVER

//var datos_localizacion_alumno = 'portal:'+id_portal;

//LOCALIZACION DEL ALUMNO
var datos_localizacion_alumno = 'alumno:'+1;

var localizacion_alumno = L.tileLayer.wms(url_geoserver,{
            layers: 'colegios:localizacion_alumno',
						viewparams:[datos_localizacion_alumno],
            format: 'image/png',
            transparent: true,
            }).addTo(mymap_zonas);

// LOCALIZACION DEL PORTAL
var datos_localizacion_portal = 'portal:'+4554;
var localizacion_portal = L.tileLayer.wms(url_geoserver,{
            layers: 'colegios:localizacion_portal',
						viewparams:[datos_localizacion_portal],
            format: 'image/png',
            transparent: true,
            }).addTo(mymap_zonas);

// MAPA CONTADOR DE ALUMNOS POR ZONA
var contador_zonas = L.tileLayer.wms(url_geoserver,{
            layers: '	colegios:contador_alumnos_zonas',
            format: 'image/png',
            transparent: true,
					}).addTo(mymap_zonas_contador);

// MAPAS FILTRO ALUMNOS POR ZONAS  POR NIVEL
var datos_nivel_zona_alumnos = 'nivel:'+3;

var localizacion_alumno = L.tileLayer.wms(url_geoserver,{
          layers: 'colegios:filtro_alumnos_zona',
					viewparams:[datos_nivel_zona_alumnos],
          format: 'image/png',
          transparent: true,
        }).addTo(mymap_zonas);


</script>



</body>
</html>
